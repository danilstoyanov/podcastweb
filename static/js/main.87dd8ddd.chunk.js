(this["webpackJsonppodcast.web"]=this["webpackJsonppodcast.web"]||[]).push([[0],{191:function(e,t,a){e.exports=a(300)},299:function(e,t,a){},300:function(e,t,a){"use strict";a.r(t);a(192),a(218),a(220),a(221),a(223),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(243),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260);var n=a(0),l=a.n(n),r=a(114),c=a.n(r),i=a(56),o=a.n(i),m=a(13),s=a(79),u=a.n(s),d=(a(268),a(36)),f=a.n(d),E=a(37),g=a.n(E),v=a(47),p=a.n(v),b=a(58),h=a.n(b),C=a(301),y=function(e){var t=e.id,a=e.goToPanel;return l.a.createElement(f.a,{id:t},l.a.createElement(g.a,null,"\u041f\u043e\u0434\u043a\u0430\u0441\u0442\u044b"),l.a.createElement(h.a,{stretched:!0,header:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u0439 \u043f\u043e\u0434\u043a\u0430\u0441\u0442",icon:l.a.createElement(C.a,null),action:l.a.createElement(p.a,{size:"m",onClick:function(){a("create")}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0434\u043a\u0430\u0441\u0442")},"\u0414\u043e\u0431\u0430\u0432\u043b\u044f\u0439\u0442\u0435, \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0438 \u0434\u0435\u043b\u0438\u0442\u0435\u0441\u044c \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430\u043c\u0438 \u0432\u0430\u0448\u0435\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u0441\u0442\u0432\u0430"))},w=a(118),j=a(49),O=a(115),x=a.n(O),k=a(81),S=a.n(k),T=a(20),P=a.n(T),F=a(7),A=a(117),B=a.n(A),L=a(302),N=a(303),I=function(e){var t=e.audio,a=e.audioDuration,r=e.waveForm,c=Object(n.useState)(!1),i=Object(m.a)(c,2),o=i[0],s=i[1],u=Object(n.useRef)(),d=Object(n.useRef)(),f=Object(n.useRef)(),E=Object(n.useRef)();Object(n.useEffect)((function(){d.current.addEventListener("scroll",(function(e){var t=e.target;f.current.scrollLeft=t.scrollLeft})),f.current.addEventListener("scroll",(function(e){var t=e.target;d.current.scrollLeft=t.scrollLeft}))}),[]);return l.a.createElement(P.a,null,l.a.createElement("div",{className:"TrackWrapper",ref:u},l.a.createElement("div",{className:"Visor",ref:E,style:{left:"16px"}}),l.a.createElement("div",{className:"TrackContent"},function(){for(var e=[],t=0,n=0,r=0;r<a;r++){var c={value:r};60===(n+=1)&&(t+=1,n=0),r%10===0?(c.type="Tick--Large",0!==r&&(c.time="".concat(t>10?t:"0"+t,":").concat(n<9?"0"+n-1:n-1))):c.type=r%2===0?"Tick--Medium":"Tick--Small",e.push(c)}return l.a.createElement("div",{className:"Timeline",ref:f},e.map((function(e){return l.a.createElement("div",{key:Object(j.a)(),className:B()("Tick",e.type)},"Tick--Large"===e.type&&l.a.createElement("span",{className:"TickTime"},e.time))})))}(),l.a.createElement("div",{className:"WaveForm",ref:d},r.map((function(e){return l.a.createElement("div",{key:Object(j.a)(),className:"WaveItem",style:{height:e}})})))),l.a.createElement("div",{className:"Controls"},l.a.createElement("button",{className:"Controls_Play",onClick:function(){o?window.currentAudio&&(window.currentAudio.stop(),clearInterval(window.playInterval),s(!1)):function(e){var a=new AudioContext,n=a.createBufferSource();a.decodeAudioData(t,(function(e){n.buffer=e,n.connect(a.destination),n.start(0),s(!0),window.currentAudio=n,window.playInterval=setInterval((function(){var e=Number(E.current.style.left.replace("px",""));E.current.style.left=e+4+"px"}),300)}))}()}},o?l.a.createElement(L.a,{fill:"#fff"}):l.a.createElement(N.a,{fill:"#fff"})))))},R=a(304),z=a(305),_=a(306),W=a(59),D=a.n(W),H=function(e){var t=e.imageSrc,a=e.onResetPreviewClick;return l.a.createElement("div",{className:"ImagePreview"},l.a.createElement("button",{onClick:a},l.a.createElement(R.a,{fill:"#FFF"})),l.a.createElement("img",{src:t}))},M=function(e){var t=e.id,a=e.goToPanel,r=e.post,c=e.setPostState,i=Object(n.useState)(r.title),o=Object(m.a)(i,2),s=o[0],u=o[1],d=Object(n.useState)(r.description),E=Object(m.a)(d,2),v=E[0],p=E[1],b=Object(n.useState)(null),h=Object(m.a)(b,2),C=h[0],y=h[1],O=Object(n.useState)(r.audioTitle),k=Object(m.a)(O,2),T=k[0],A=k[1],B=Object(n.useState)(!1),L=Object(m.a)(B,2),N=L[0],R=L[1],W=Object(n.useState)(r.preview),M=Object(m.a)(W,2),V=M[0],Z=M[1],G=Object(n.useState)([]),J=Object(m.a)(G,2),K=J[0],U=J[1],q=Object(n.useState)(0),Q=Object(m.a)(q,2),X=Q[0],Y=Q[1],$=Object(n.useState)(!1),ee=Object(m.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(!1),le=Object(m.a)(ne,2),re=le[0],ce=le[1],ie=Object(n.useState)(!1),oe=Object(m.a)(ie,2),me=oe[0],se=oe[1],ue=Object(n.useState)(r.timecodes),de=Object(m.a)(ue,2),fe=de[0],Ee=de[1],ge=function(e,t,a){Ee(fe.map((function(n){return n.id!==e||(n[t]=a),n})))};console.log(r,"post");return l.a.createElement(f.a,{id:t},l.a.createElement(g.a,{left:l.a.createElement(D.a,{onClick:function(){N?R(!1):a("start")}})},N?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435":"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0434\u043a\u0430\u0441\u0442"),!N&&l.a.createElement(l.a.Fragment,null,l.a.createElement(P.a,null,l.a.createElement("div",{className:"PreviewSection"},V?l.a.createElement(H,{imageSrc:V,onResetPreviewClick:function(){Z(null)}}):l.a.createElement(S.a,{className:"FileInputWrapper",controlSize:"xl",mode:"tertiary",name:"preview",before:l.a.createElement(z.a,null),onChange:function(e){!function(e){if(e.type.startsWith("image/")){var t=new FileReader;t.onload=function(e){Z(e.target.result)},t.readAsDataURL(e)}}(e.target.files[0])}}),l.a.createElement(F.d,null,l.a.createElement(F.e,{top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",name:"title",value:s,onChange:function(e){var t=e.target;u(t.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430"})))),l.a.createElement(F.d,null,l.a.createElement(F.i,{placeholder:"",top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430",value:v,onChange:function(e){var t=e.target;p(t.value)}})),C?l.a.createElement(P.a,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",background:"#F2F3F5",marginRight:12,padding:12,flexGrow:0,borderRadius:12}},l.a.createElement(_.a,{fill:"#99A2AD"})),l.a.createElement(F.h,{weight:"medium"},T)),l.a.createElement(F.h,{style:{color:"#818C99",fontSize:"13px",marginTop:"8px",marginBottom:"16px"}},"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0439\u043c\u043a\u043e\u0434\u044b \u0438 \u0441\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u0430\u0441\u0442 \u0432 \u0440\u0435\u0436\u0438\u043c\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),l.a.createElement(F.a,{size:"xl",mode:"outline",style:{marginBottom:"4px"},onClick:function(){R(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0443\u0434\u0438\u043e\u0437\u0430\u043f\u0438\u0441\u044c")):l.a.createElement(F.f,{header:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0432\u0430\u0448 \u043f\u043e\u0434\u043a\u0430\u0441\u0442",action:l.a.createElement(S.a,{size:"m",mode:"outline",top:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u043e\u0434\u043a\u0430\u0441\u0442",before:null,onChange:function(e){!function(e){if(e.type.startsWith("audio/")){var t=new FileReader;t.onload=function(t){var a=new AudioContext,n=t.target.result,l=n.slice(0);a.decodeAudioData(n).then((function(e){var t={audio_context:a,audio_buffer:e,scale:512};return new Promise((function(e,a){x.a.createFromAudio(t,(function(t,n){t?a(t):e(n)}))}))})).then((function(t){for(var a=t.resample({width:t.duration}),n=a.channel(0),l=[],r=0;r<a.length;r++){var c=0;n.max_sample(r)<1?l.push(2):(c=r%3===0?n.max_sample(r)/4:n.max_sample(r)/3,l.push(c))}U(l),Y(Math.floor(t.duration)),A(e.name)})),y(l)},t.readAsArrayBuffer(e)}}(e.target.files[0])}})},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u043e\u0442\u043e\u0432\u044b\u0439 \u0430\u0443\u0434\u0438\u043e\u0444\u0430\u0439\u043b \u0438\u0437 \u0432\u0430\u0448\u0435\u0433\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e"),l.a.createElement(F.g,null),l.a.createElement("div",{className:"SettingsSection"},l.a.createElement(F.d,null,l.a.createElement(F.c,{value:te,onChange:function(){ae(!te)}},"\u041d\u0435\u043d\u043e\u0440\u043c\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442"),l.a.createElement(F.c,{value:re,onChange:function(){ce(!re)}},"\u0418\u0441\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u044d\u043f\u0438\u0437\u043e\u0434 \u0438\u0437 \u044d\u043a\u0441\u043f\u043e\u0440\u0442\u0430"),l.a.createElement(F.c,{value:me,onChange:function(){se(!me)}},"\u0422\u0440\u0435\u0439\u043b\u0435\u0440 \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430"))),l.a.createElement(P.a,{onClick:function(){alert("\u0417\u0430\u0433\u043b\u0443\u0448\u0447\u0435\u043a\u0430 ^_^")}},l.a.createElement(F.h,{weight:"medium",style:{marginBottom:4}},"\u041a\u043e\u043c\u0443 \u0434\u043e\u0441\u0442\u0443\u043f\u0435\u043d \u0434\u0430\u043d\u043d\u044b\u0439 \u043f\u043e\u0434\u043a\u0430\u0441\u0442"),l.a.createElement(F.b,{level:"3",style:{color:"#818C99"}},"\u0412\u0441\u0435\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"),l.a.createElement(F.b,{level:"1",style:{marginTop:16,color:"#818C99"}},"\u041f\u0440\u0438 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0438\u0441\u0438 \u0441 \u044d\u043f\u0438\u0437\u043e\u0434\u043e\u043c, \u043e\u043d \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439")),l.a.createElement(P.a,null,l.a.createElement(F.a,{size:"xl",onClick:function(){c({title:s,description:v,audioTitle:T,preview:V,timecodes:fe}),a("post")}},"\u0414\u0430\u043b\u0435\u0435"))),N&&l.a.createElement(l.a.Fragment,null,l.a.createElement(I,{audio:C,audioDuration:X,waveForm:K}),l.a.createElement(P.a,null,l.a.createElement(F.b,{level:"1",weight:"semibold",caps:!0,style:{marginBottom:16,color:"#818C99"}},"\u0422\u0430\u0439\u043c\u043a\u043e\u0434\u044b"),fe.map((function(e){var t=e.id,a=e.time,n=e.description;return l.a.createElement("div",{key:t,style:{display:"flex",alignItems:"center",marginBottom:16},className:"TimecodeItem"},l.a.createElement("div",{onClick:function(){!function(e){Ee(fe.filter((function(t){return t.id!==e})))}(t)},style:{marginRight:8}},l.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M11 0C17.0751 0 22 4.92487 22 11C22 17.0751 17.0751 22 11 22C4.92487 22 0 17.0751 0 11C0 4.92487 4.92487 0 11 0ZM16 10H6C5.44772 10 5 10.4477 5 11C5 11.5523 5.44772 12 6 12H16C16.5523 12 17 11.5523 17 11C17 10.4477 16.5523 10 16 10Z",fill:"#E64646"}))),l.a.createElement(F.e,{value:n,placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",style:{marginRight:8,flexGrow:1},onChange:function(e){var a=e.target;ge(t,"description",a.value)}}),l.a.createElement(F.e,{value:a,type:"text",maxLength:"5",placeholder:"00:00",style:{marginLeft:8,flexShrink:1},onChange:function(e){var a=e.target;ge(t,"time",a.value)}}))})),l.a.createElement("div",{style:{display:"flex",alignItems:"center",marginBottom:16},onClick:function(){fe.some((function(e){return""===e.time&&""===e.description}))?alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0440\u0435\u0434\u0438\u0434\u0443\u0449\u0438\u0439 \u0442\u0430\u0439\u043c\u043a\u043e\u0434"):Ee([].concat(Object(w.a)(fe),[{id:Object(j.a)(),time:"",description:""}]))}},l.a.createElement("div",null,l.a.createElement("svg",{width:"22",height:"22",viewBox:"0 0 22 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},l.a.createElement("path",{d:"M11 0C17.0751 0 22 4.92487 22 11C22 17.0751 17.0751 22 11 22C4.92487 22 0 17.0751 0 11C0 4.92487 4.92487 0 11 0ZM11 5C10.4477 5 10 5.44772 10 6V10H6C5.48716 10 5.06449 10.386 5.00673 10.8834L5 11C5 11.5523 5.44772 12 6 12H10V16C10 16.5128 10.386 16.9355 10.8834 16.9933L11 17C11.5523 17 12 16.5523 12 16V12H16C16.5128 12 16.9355 11.614 16.9933 11.1166L17 11C17 10.4477 16.5523 10 16 10H12V6C12 5.48716 11.614 5.06449 11.1166 5.00673L11 5Z",fill:"#3F8AE0"}))),l.a.createElement(F.h,{style:{color:"#3F8AE0",fontSize:16,marginLeft:12}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0430\u0439\u043c\u043a\u043e\u0434")),l.a.createElement(F.b,{level:"1",style:{color:"#818C99"}},"\u041e\u0442\u043c\u0435\u0442\u043a\u0438 \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0442\u0435\u043c\u044b. \u041f\u043e\u0437\u0432\u043e\u043b\u044f\u044e\u0442 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u044f\u043c \u043b\u0435\u0433\u0447\u0435 \u043f\u0443\u0442\u0435\u0448\u0435\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0443."))))},V=function(e){var t=e.id,a=e.post,n=e.goToPanel,r=a.title,c=a.description,i=(a.audioTitle,a.preview),o=a.timecodes;return l.a.createElement(f.a,{id:t},l.a.createElement(g.a,{left:l.a.createElement(D.a,{onClick:function(){}})},"\u041d\u043e\u0432\u044b\u0439 \u043f\u043e\u0434\u043a\u0430\u0441\u0442"),l.a.createElement(P.a,null,l.a.createElement("div",{style:{display:"flex",alignItems:"center"}},l.a.createElement("div",{className:"PostPreview",style:{marginRight:12}},l.a.createElement("img",{src:i})),l.a.createElement("div",null,l.a.createElement(F.j,{level:"3",weight:"bold",style:{marginBottom:4}},r),l.a.createElement(F.b,{level:"2",style:{color:"#4986CC",marginBottom:4}},"\u0410\u0432\u0442\u043e\u0440 \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430"),l.a.createElement(F.b,{level:"2",style:{color:"#818C99"}},"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c: 32:31")))),l.a.createElement(F.g,null),l.a.createElement(P.a,null,l.a.createElement(F.j,{level:"3",weight:"bold",style:{marginBottom:8,marginTop:8}},"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),l.a.createElement(F.h,{style:{marginBottom:8}},c)),l.a.createElement(F.g,null),l.a.createElement(P.a,null,l.a.createElement(F.j,{level:"3",weight:"bold",style:{marginBottom:16,marginTop:8}},"\u0421\u043e\u0434\u0435\u0440\u0436\u0430\u043d\u0438\u0435"),0===o.length&&l.a.createElement(F.h,null,"\u0412\u044b \u043d\u0435 \u0441\u043e\u0437\u0434\u0430\u043b\u0438 \u0442\u0430\u0439\u043c\u043a\u043e\u0434\u044b \u0434\u043b\u044f \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0430"),o.map((function(e){var t=e.id,a=e.time,n=e.description;return l.a.createElement("div",{key:t,style:{display:"flex",alignItems:"center",marginBottom:16}},l.a.createElement(F.b,{style:{color:"#4986CC",marginRight:6}},a)," \u2014 ",l.a.createElement(F.b,{style:{marginLeft:6}},n))}))),l.a.createElement(F.g,null),l.a.createElement(P.a,null,l.a.createElement(F.a,{style:{marginTop:16},size:"xl",onClick:function(){n("final")}},"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u043a\u0430\u0441\u0442")))},Z=a(307),G=function(e){var t=e.id;e.goToPanel;return l.a.createElement(f.a,{id:t,stretched:!0},l.a.createElement(g.a,null,"\u041f\u043e\u0434\u043a\u0430\u0441\u0442\u044b"),l.a.createElement(h.a,{stretched:!0,header:"\u041f\u043e\u0434\u043a\u0430\u0441\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d",icon:l.a.createElement(Z.a,{fill:"#3F8AE0"}),action:l.a.createElement(p.a,{size:"m",onClick:function(){alert("\u042d\u0442\u043e \u0432\u0441\u0451 ^_^\n\u041c\u043e\u0436\u0435\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043a\u0443")}},"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f \u043f\u043e\u0434\u043a\u0430\u0441\u0442\u043e\u043c")},"\u0420\u0430\u0441\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0432\u043e\u0438\u043c \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u0430\u043c \u043e\xa0\u043d\u043e\u0432\u043e\u043c\xa0\u043f\u043e\u0434\u043a\u0430\u0441\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u0441\u043b\u0443\u0448\u0430\u0442\u0435\u043b\u0435\u0439."))},J=(a(299),function(){var e=Object(n.useState)("start"),t=Object(m.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({title:"",description:"",audioTitle:"",preview:null,timecodes:[]}),i=Object(m.a)(c,2),o=i[0],s=i[1],d=function(e){r(e)};return l.a.createElement(u.a,{activePanel:a},l.a.createElement(y,{id:"start",goToPanel:d}),l.a.createElement(M,{id:"create",goToPanel:d,post:o,setPostState:s}),l.a.createElement(V,{id:"post",goToPanel:d,post:o}),l.a.createElement(G,{id:"final",goToPanel:d}))});o.a.send("VKWebAppInit"),c.a.render(l.a.createElement(J,null),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.87dd8ddd.chunk.js.map